(()=>{"use strict";var t={250:(t,i,n)=>{n.d(i,{A:()=>e});const e=function(){function t(t,i,n){this.canvasElement=t,this.width=i,this.height=n,this.context=t.getContext("2d")}return t.prototype.clear=function(){this.context.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)},t.prototype.insertText=function(t,i){void 0===i&&(i={}),void 0===i.color&&(i.color="white"),void 0===i.size&&(i.size=20),this.context.font=i.size+"px Arial";var n=this.context.measureText(t),e=this.canvasElement.width/2-n.width/2,o=this.canvasElement.height/2-n.actualBoundingBoxAscent/2;return void 0===i.x&&(i.x=e-n.actualBoundingBoxAscent),void 0===i.y&&(i.y=o-n.actualBoundingBoxAscent),this.context.fillStyle=i.color,this.context.fillText(t,i.x+n.actualBoundingBoxAscent,i.y+n.actualBoundingBoxAscent,n.width),n},t}()},873:(t,i,n)=>{n.d(i,{A:()=>e});const e=function(){function t(t,i,n){this.models=t,this.context=i,this.image=n}return t.prototype.draw=function(){var t=this;this.models.forEach((function(i,n){!i.isCollected&&t.context.drawImage(t.image,i.positionX,i.positionY,i.height,i.height)}))},t}()},516:(t,i,n)=>{n.d(i,{A:()=>o});var e=n(871);const o=function(){function t(t,i,n){this.model=t,this.context=i,this.image=n}return t.prototype.draw=function(){this.context.drawImage(this.image,this.model.positionColumnIndex*(this.model.positionX-this.model.width/(e.A.COLUMN-1)),this.model.positionY,this.model.width,this.model.height/2)},t}()},871:(t,i,n)=>{n.d(i,{A:()=>e});const e=function(){function t(){}return t.COLUMN=3,t.FRUIT_SPAWN_TIME=500,t.MAX_FRUIT_SPAWN=20,t.FRUIT_DROP_SPEED=5,t.START_LIVES_DEFAULT=3,t.START_SCORE_DEFAULT=0,t.CANVAS_HEIGHT=window.innerHeight,t.CANVAS_WIDTH=300,t}()},484:()=>{},236:(t,i,n)=>{n.d(i,{A:()=>o});var e=n(871);const o=function(){function t(t,i){this.fruits=t,this.canvas=i}return t.prototype.isWin=function(){return this.fruits.length===e.A.MAX_FRUIT_SPAWN&&(this.fruits[this.fruits.length-1].positionY>this.canvas.height||this.fruits[this.fruits.length-1].isCollected)},t.prototype.isPerfectWin=function(){return this.isWin()&&this.fruits.every((function(t){return t.isCollected}))},t}()},468:(t,i,n)=>{n.d(i,{A:()=>o});var e=n(871);const o=function(){function t(t,i,n,o){this.state=t,this.canvas=i,this.fruitDrawer=n,this.playerDrawer=o,this.lives=e.A.START_LIVES_DEFAULT,this.score=e.A.START_SCORE_DEFAULT}return t.prototype.play=function(t){var i=this;this.canvas.clear(),this.canvas.insertText("Scores : "+this.score,{y:0});var n=this.lives<=0,e=this.state.isWin(),o=this.state.isPerfectWin();if(n||e){var s="Game Over!";return e&&(s=o?"Amazing Win!":"You Win!"),this.canvas.insertText(s),window.clearInterval(this.state.spawner),window.cancelAnimationFrame(this.state.startId)}this.canvas.insertText("Lives : "+this.lives),this.fruitDrawer.draw(),this.playerDrawer.draw(),this.state.startId=window.requestAnimationFrame((function(){return i.play(t)}))},t}()},156:(t,i,n)=>{n(927).A.main()},927:(t,i,n)=>{n.d(i,{A:()=>A});var e=n(250),o=n(873),s=n(516),r=n(468),a=n(871),h=n(236),c=n(965),u=n(830),d=n(864),l=document.querySelector("canvas");if(!l.getContext("2d"))throw new Error("Your browser does not support this action!");const A=function(){function t(){}return t.main=function(){var t=new Image,i=new Image;t.src="../public/images/cart.png",i.src="../public/images/fruit.png";var n=new e.A(l,a.A.CANVAS_WIDTH,a.A.CANVAS_HEIGHT),A=new u.A(n.width/(a.A.COLUMN-1),n.height-n.height/10,n.width/a.A.COLUMN,60,Math.floor(a.A.COLUMN/2)),f=[],p=new s.A(A,n.context,t),m=new o.A(f,n.context,i),v=new h.A(f,n.canvasElement),w=new r.A(v,n,m,p);w.state.spawner=setInterval((function(){if(f.length>=a.A.MAX_FRUIT_SPAWN)return clearInterval(w.state.spawner);var t=new c.A(d.A.getIntegerRandomNumber(0,a.A.COLUMN)*(A.positionX-A.width/(a.A.COLUMN-1)),0,60,!1,!1);f.push(t)}),a.A.FRUIT_SPAWN_TIME);var g,x=(g=0,function(){2==++g&&(w.state.startId=window.requestAnimationFrame((function(){return w.play(n.context)})))});t.onload=x,i.onload=x},t}()},965:(t,i,n)=>{n.d(i,{A:()=>e});const e=function(t,i,n,e,o){this.positionX=t,this.positionY=i,this.height=n,this.isCollected=e,this.hasCountAsLose=o}},830:(t,i,n)=>{n.d(i,{A:()=>o});var e=n(871);const o=function(){function t(t,i,n,e,o){this.positionX=t,this.positionY=i,this.width=n,this.height=e,this.positionColumnIndex=o}return t.prototype.moveRight=function(){var t=Math.max(this.positionColumnIndex-1,0);this.positionColumnIndex=t},t.prototype.moveLeft=function(){var t=Math.min(this.positionColumnIndex+1,e.A.COLUMN-1);this.positionColumnIndex=t},t}()},613:()=>{},864:(t,i,n)=>{n.d(i,{A:()=>e});const e=function(){function t(){}return t.getIntegerRandomNumber=function(t,i){return Math.floor(Math.random()*(i-t)+t)},t}()}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=(t,i)=>{for(var e in i)n.o(i,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},n.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),n(250),n(873),n(516),n(871),n(484),n(236),n(468),n(156),n(927),n(965),n(830),n(613),n(864)})();